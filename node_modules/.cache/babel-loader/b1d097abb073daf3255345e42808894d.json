{"ast":null,"code":"var _jsxFileName = \"/home/banish/Blogapp-using-MERN/src/Components/Posts/ShowPost/ShowPost.js\";\nimport Axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport ToText from '../../../utils/ToText';\nimport './ShowPost.css';\nimport avtar from '../../../assets/avtar.jpg';\nimport Spinner from '../../../Containers/Spinner/Spinner';\n\nfunction ShowPost(props) {\n  var _post$user, _post$user2;\n\n  const [post, setpost] = useState(props);\n  const [loading, setLoading] = useState(false);\n  const [errmsg, setErrorMsg] = useState();\n  const [errcode, setErrorCode] = useState();\n  const history = useHistory();\n  const pathname = history.location.pathname;\n  useEffect(() => {\n    setLoading(true);\n    Axios.get(\"/profile/bycreator/\" + props.creator).then(data => {\n      setLoading(false);\n      setpost({ ...props,\n        user: data.data.profile\n      });\n    }).catch(e => {\n      setLoading(false);\n    });\n  }, [props]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, errcode ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container error container-short\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mar-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }\n  }, \"Error Code - \", errcode), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }, \"Error Message - \", errmsg))) : null, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mar-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }))) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-sm-6 col-xs-12 showblog mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"showblog_card card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"showblog_card_image\",\n    style: {\n      backgroundImage: `url(${props.imagePath})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"show_auth_img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/public/\" + ((_post$user = post.user) === null || _post$user === void 0 ? void 0 : _post$user.username),\n    style: {\n      backgroundImage: `url(${((_post$user2 = post.user) === null || _post$user2 === void 0 ? void 0 : _post$user2.imagePath) ? post.user.imagePath : avtar})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, \"By Mehul\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title pt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, pathname === \"/mypost\" ? /*#__PURE__*/React.createElement(Link, {\n    to: '/mypost/' + props._id,\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, props.title) : /*#__PURE__*/React.createElement(Link, {\n    to: '/post/' + props._id,\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  }, props.title)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"showblog_content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, `${ToText(props.content.substring(0, 80))}...`, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 32\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 39\n    }\n  }, \"Read More\")))))));\n}\n\nexport default ShowPost;","map":{"version":3,"sources":["/home/banish/Blogapp-using-MERN/src/Components/Posts/ShowPost/ShowPost.js"],"names":["Axios","React","useState","useEffect","useHistory","Link","ToText","avtar","Spinner","ShowPost","props","post","setpost","loading","setLoading","errmsg","setErrorMsg","errcode","setErrorCode","history","pathname","location","get","creator","then","data","user","profile","catch","e","backgroundImage","imagePath","username","_id","title","content","substring"],"mappings":"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","sourcesContent":["import Axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { Link } from 'react-router-dom'\nimport ToText from '../../../utils/ToText'\nimport './ShowPost.css'\nimport avtar from '../../../assets/avtar.jpg'\nimport Spinner from '../../../Containers/Spinner/Spinner';\nfunction ShowPost(props) {\n\n    const [post, setpost] = useState(props)\n    const [loading, setLoading] = useState(false)\n    const [errmsg, setErrorMsg] = useState()\n    const [errcode, setErrorCode] = useState()\n    const history = useHistory()\n    const pathname = history.location.pathname\n\n    useEffect(() => {\n        setLoading(true)\n        Axios.get(\"/profile/bycreator/\" + props.creator).then(data => {\n            setLoading(false)\n            setpost({ ...props, user: data.data.profile })\n        })\n            .catch(e => {\n                setLoading(false)\n            })\n\n    }, [props])\n\n    return (<>\n        {errcode ?\n            <div className=\"container error container-short\">\n                <div className=\"mar-20\">\n                    <h5>Error Code - {errcode}</h5>\n                    <h4>Error Message - {errmsg}</h4>\n                </div>\n            </div>\n            : null}\n\n        {loading ?\n            <div className=\"container loading\">\n                <div className=\"mar-20\">\n                    <Spinner />\n                </div>\n            </div>\n            : null}\n        <div className=\"col-md-6 col-sm-6 col-xs-12 showblog mb-3\">\n            <div className=\"showblog_card card\">\n                <div className=\"showblog_card_image\"\n                    style={{ backgroundImage: `url(${props.imagePath})` }}>\n\n\n                    <div className=\"show_auth_img\">\n                        <Link to={\"/public/\" + post.user?.username} style={{ backgroundImage: `url(${post.user?.imagePath ? post.user.imagePath : avtar})` }}>By Mehul</Link>\n                    </div>\n                </div>\n                <div className=\"card-body\">\n                    <h5 className=\"card-title pt-3\">\n                        {pathname === \"/mypost\" ?\n                            <Link\n                                to={'/mypost/' + props._id}\n                                className=\"title\">\n                                {props.title}\n                            </Link> :\n\n                            <Link\n                                to={'/post/' + props._id}\n                                className=\"title\">\n                                {props.title}\n                            </Link>\n                        }\n\n                    </h5>\n\n                    <p className=\"showblog_content\">\n                        {`${ToText(\n                            props.content.substring(0, 80)\n                        )}...`}<span> <b>Read More</b></span>\n                    </p>\n                </div>\n            </div>\n        </div>\n    </>\n    )\n}\n\nexport default ShowPost\n"]},"metadata":{},"sourceType":"module"}