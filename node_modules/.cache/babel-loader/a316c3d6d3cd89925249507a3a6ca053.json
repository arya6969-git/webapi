{"ast":null,"code":"var _jsxFileName = \"/home/banish/Blogapp-using-MERN/src/Components/Users/Profile/Profile.js\";\nimport Axios from 'axios';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Spinner from '../../../Containers/Spinner/Spinner';\nimport ShowPost from '../../Posts/ShowPost/ShowPost';\nimport './Profile.css';\nexport class Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: {},\n      posts: [],\n      isloading: false,\n      error: {\n        message: '',\n        code: ''\n      }\n    };\n  }\n\n  componentDidMount() {\n    let path = this.props.match.path;\n    let id = this.props.match.params.id;\n    this.setState(pre => ({\n      isloading: true\n    }));\n    const storedData = JSON.parse(localStorage.getItem('profileData'));\n\n    if (!storedData && path === \"/profile\") {\n      this.props.history.push(\"/createProfile\");\n    }\n\n    if (id) {\n      Axios.get('/profile/' + id).then(data => {\n        this.setState({ ...this.state.user,\n          user: data.data.profile,\n          isloading: false\n        });\n        return Axios.get('/profile/' + id + '/mypost');\n      }).then(data => {\n        this.setState({ ...this.state.posts,\n          posts: data.data.post,\n          isloading: false\n        });\n      }).catch(e => {\n        this.setState({\n          isloading: false,\n          error: { ...this.state.error,\n            message: e.response.data.message,\n            code: e.response.status\n          }\n        });\n      });\n    } else {\n      let id;\n      Axios.get('/profile/viewprofile').then(data => {\n        id = data.data.profile.username;\n        this.setState({ ...this.state.user,\n          user: data.data.profile,\n          isloading: false\n        });\n        Axios.get('/profile/' + id + '/mypost').then(data => {\n          this.setState({ ...this.state.posts,\n            posts: data.data.post,\n            isloading: false\n          });\n        });\n      }).catch(e => {\n        this.setState({\n          isloading: false,\n          error: { ...this.state.error,\n            message: e.response.data.message,\n            code: e.response.status\n          }\n        });\n      });\n    }\n  }\n\n  render() {\n    const storedData = JSON.parse(localStorage.getItem('profileData'));\n    let path = this.props.match.path;\n    let isLoading;\n    let iserror;\n\n    if (this.state.isloading) {\n      isLoading = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mar-20\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 29\n        }\n      }))));\n    }\n\n    if (this.state.error.code) {\n      iserror = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container error container-short\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mar-20\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 29\n        }\n      }, \"Error Code - \", this.state.error.code), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 29\n        }\n      }, \"Error Message - \", this.state.error.message))));\n    }\n\n    let fetchedposts;\n\n    if (this.state.posts) {\n      fetchedposts = this.state.posts.map((post, index) => /*#__PURE__*/React.createElement(ShowPost, Object.assign({\n        key: index\n      }, post, index, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }\n      })));\n    }\n\n    let profile = this.state.user;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, isLoading, iserror, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container py-5 container-short\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 col-xs-12 order-2 order-lg-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text-black font-weight-light mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }, profile.username), !storedData && path !== \"/profile\" ? null : /*#__PURE__*/React.createElement(Link, {\n      to: \"/profile/edit/\" + profile._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 76\n      }\n    }, \"Edit Profile\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    }, profile.bio)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-xs-12 order-1 order-lg-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img-fluid w-50 rounded-circle mb-3\",\n      src: profile.imagePath,\n      alt: profile.username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container py-5 container-short\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"font-weight-light text-black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, profile.username, \"'s Posts\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }), this.state.posts.length === 0 ? /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"mt-5 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 54\n      }\n    }, \"No Posts Found\") : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, fetchedposts)));\n  }\n\n}\nexport default Profile;","map":{"version":3,"sources":["/home/banish/Blogapp-using-MERN/src/Components/Users/Profile/Profile.js"],"names":["Axios","React","Component","Link","Spinner","ShowPost","Profile","constructor","props","state","user","posts","isloading","error","message","code","componentDidMount","path","match","id","params","setState","pre","storedData","JSON","parse","localStorage","getItem","history","push","get","then","data","profile","post","catch","e","response","status","username","render","isLoading","iserror","fetchedposts","map","index","_id","bio","imagePath","length"],"mappings":"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","sourcesContent":["import Axios from 'axios'\nimport React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport Spinner from '../../../Containers/Spinner/Spinner'\nimport ShowPost from '../../Posts/ShowPost/ShowPost'\nimport './Profile.css'\nexport class Profile extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            user: {},\n            posts: [],\n            isloading: false,\n            error: {\n                message: '',\n                code: ''\n            },\n        }\n    }\n\n    componentDidMount() {\n        let path = this.props.match.path\n        let id = this.props.match.params.id\n\n        this.setState(pre => ({\n            isloading: true\n        }))\n        const storedData = JSON.parse(localStorage.getItem('profileData'));\n\n        if (!storedData && path === \"/profile\") {\n            this.props.history.push(\"/createProfile\")\n        }\n\n        if (id) {\n            Axios.get('/profile/' + id).then(data => {\n                this.setState({ ...this.state.user, user: data.data.profile, isloading: false });\n                return Axios.get('/profile/' + id + '/mypost')\n            }).then(data => {\n                this.setState({ ...this.state.posts, posts: data.data.post, isloading: false });\n            }).catch(e => {\n                this.setState({\n                    isloading: false,\n                    error: {\n                        ...this.state.error, message: e.response.data.message,\n                        code: e.response.status\n                    }\n                });\n\n            })\n        }\n        else {\n            let id\n            Axios.get('/profile/viewprofile').then(data => {\n                id = data.data.profile.username\n                this.setState({ ...this.state.user, user: data.data.profile, isloading: false });\n\n                Axios.get('/profile/' + id + '/mypost').then(data => {\n                    this.setState({ ...this.state.posts, posts: data.data.post, isloading: false });\n                })\n            }).catch(e => {\n                this.setState({\n                    isloading: false,\n                    error: {\n                        ...this.state.error, message: e.response.data.message,\n                        code: e.response.status\n                    }\n                });\n            })\n\n\n        }\n    }\n\n    render() {\n        const storedData = JSON.parse(localStorage.getItem('profileData'));\n        let path = this.props.match.path\n        let isLoading\n        let iserror\n\n        if (this.state.isloading) {\n\n            isLoading = (\n                <>\n                    <div className=\"container loading\">\n                        <div className=\"mar-20\">\n                            <Spinner />\n                        </div>\n                    </div>\n                </>\n            )\n        }\n\n        if (this.state.error.code) {\n            iserror = (\n                <>\n                    <div className=\"container error container-short\">\n                        <div className=\"mar-20\">\n                            <h5>Error Code - {this.state.error.code}</h5>\n                            <h4>Error Message - {this.state.error.message}</h4>\n                        </div>\n                    </div>\n                </>\n            )\n        }\n\n        let fetchedposts\n        if (this.state.posts) {\n            fetchedposts = this.state.posts.map((post, index) => (\n                <ShowPost key={index} {...post} {...index} />\n            ))\n        }\n        let profile = this.state.user\n\n        return (\n            <>\n                {isLoading}\n                {iserror}\n                <div className=\"container py-5 container-short\">\n                    <div className=\"row profile\">\n                        <div className=\"col-md-8 col-xs-12 order-2 order-lg-1\">\n                            <h2 className=\"text-black font-weight-light mb-4\">{profile.username}</h2>\n                            {(!storedData && path !== \"/profile\") ? null : <Link to={\"/profile/edit/\" + profile._id}  >Edit Profile</Link>}\n                            <p>{profile.bio}</p>\n                        </div>\n\n                        <div className=\"col-md-4 col-xs-12 order-1 order-lg-2\">\n                            <img className=\"img-fluid w-50 rounded-circle mb-3\"\n                                src={profile.imagePath} alt={profile.username}></img>\n                        </div>\n                    </div>\n\n                </div>\n\n                <div className=\"container py-5 container-short\">\n                    <h2 className=\"font-weight-light text-black\">{profile.username}'s Posts</h2>\n                    <hr />\n                    {this.state.posts.length === 0 ? <h2 className=\"mt-5 text-center\">No Posts Found</h2> : null}\n                    <div className=\"row\">\n                        {fetchedposts}\n                    </div>\n\n                </div>\n            </>\n        )\n    }\n}\n\nexport default Profile\n"]},"metadata":{},"sourceType":"module"}